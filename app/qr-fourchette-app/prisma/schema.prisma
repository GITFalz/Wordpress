generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://qrfour_app_USER:TyM5W28Got75@cs11693-001.eu.clouddb.ovh.net:35415/qrfour_app?charset=utf8mb4"
}

model qrf_roles {
  id             BigInt           @id @default(autoincrement())
  name           String           @unique(map: "name") @db.VarChar(50)
  description    String?          @db.Text
  qrf_user_roles qrf_user_roles[]
}

model qrf_user_roles {
  user_id   BigInt
  role_id   BigInt
  qrf_users qrf_users @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "qrf_user_roles_ibfk_1")
  qrf_roles qrf_roles @relation(fields: [role_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "qrf_user_roles_ibfk_2")

  @@id([user_id, role_id])
  @@index([role_id], map: "role_id")
}

model qrf_users {
  id             BigInt           @id @default(autoincrement())
  username       String           @unique(map: "username") @db.VarChar(50)
  email          String           @unique(map: "email") @db.VarChar(100)
  password_hash  String           @db.Text
  created_at     DateTime?        @default(now()) @db.DateTime(0)
  qrf_user_roles qrf_user_roles[]
}
