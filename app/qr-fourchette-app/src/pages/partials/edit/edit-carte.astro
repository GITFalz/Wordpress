---
const userId = Astro.url.searchParams.get('userId') || '';
---

<section class="w-full min-h-screen flex items-start justify-center py-12 px-4">
  <div class="w-full max-w-5xl space-y-10">
    <header class="text-center relative">
      <h1 class="text-3xl font-bold text-black border-b-10 border-orange-400 inline-block">
        Je remplis & personnalise ma carte
      </h1>
      <p class="text-gray-600">
      </p>
    </header>

    <div class="grid grid-rows-1 md:grid-cols-2">
      <div class="bg-white relative border-r-2 inline-block">
        <div class="p-6">
          <h2 class="text-xl font-semibold mb-4">
            Je remplis ma carte
          </h2>

          <div class="grid grid-cols-1 gap-3">
            <button class="button-menus w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition active:bg-orange-400 bg-gray-100 hover:bg-orange-300 hover:text-white">
              <div class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-newspaper" viewBox="0 0 16 16">
                  <path d="M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5z"/>
                  <path d="M2 3h10v2H2zm0 3h4v3H2zm0 4h4v1H2zm0 2h4v1H2zm5-6h2v1H7zm3 0h2v1h-2zM7 8h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2z"/>
                </svg>
                <span class="font-medium">Menus à la carte</span>
              </div>
              <span class="font-bold" aria-hidden="true">
                <svg class="stroke-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9 18l6-6-6-6"/>
                </svg>
              </span>
            </button>

            <button class="button-categories w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition active:bg-orange-400 bg-gray-100 hover:bg-orange-300 hover:text-white">
              <div class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 16 16">
                  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>
                  <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0M7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0"/>
                </svg>
                <span class="font-medium">Vos produits</span>
              </div>
              <span class=" font-bold" aria-hidden="true">
                  <svg class="stroke-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9 18l6-6-6-6"/>
                </svg>              
              </span>
            </button>

            <button class="button-infos w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition active:bg-orange-400 bg-gray-100 hover:bg-orange-300 hover:text-white">
              <div class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
                  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
                </svg>
                <span class="font-medium">Infos complémentaires</span>
              </div>
              <span class=" font-bold" aria-hidden="true">
                  <svg class="stroke-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9 18l6-6-6-6"/>
                </svg>  
              </span>
            </button>
          </div>
        </div>
      </div>
      <div class="bg-white rounded-xlrelative">
        <div class="absolute left-0 top-0 h-full w-1 bg-orange-400 rounded-l-xl"></div>
        <div class="p-6">
          <h2 class="text-xl font-semibold mb-4">
            Je personnalise ma carte
          </h2>

          <div class="grid grid-cols-1 gap-3">
            <button
              class="w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition active:bg-orange-400 bg-gray-100 hover:bg-orange-300 hover:text-white"
              hx-get={`/partials/edit/logo?id=${userId}`}
              hx-push-url="#/edit-carte/logo"
              hx-target="#edit-carte-content"
              hx-swap="innerHTML"
            >
              <div class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-card-image" viewBox="0 0 16 16">
                  <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                  <path d="M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54L1 12.5v-9a.5.5 0 0 1 .5-.5z"/>
                </svg>
                <span class="font-medium">Choix du logo</span>
              </div>
              <span class=" font-bold" aria-hidden="true">
                <svg class="stroke-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9 18l6-6-6-6"/>
                </svg>
              </span>
            </button>

            <button
              class="w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition active:bg-orange-400 bg-gray-100 hover:bg-orange-300 hover:text-white"
              hx-get={`/partials/edit/styles?id=${userId}`}
              hx-push-url="#/edit-carte/styles"
              hx-target="#edit-carte-content"
              hx-swap="innerHTML"
            >
              <div class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                  <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"/>
                </svg>
                <span class="font-medium">Typographies et couleurs</span>
              </div>
              <span class="font-bold" aria-hidden="true">
                <svg class="stroke-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9 18l6-6-6-6"/>
                </svg>
              </span>
            </button>

            <button
              class="w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition active:bg-orange-400 bg-gray-100 hover:bg-orange-300 hover:text-white"
              hx-get={`/partials/edit/langues?id=${userId}`}
              hx-push-url="#/edit-carte/langues"
              hx-target="#edit-carte-content"
              hx-swap="innerHTML"
            >
              <div class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
                  <path d="M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"/>
                </svg>
                <span class="font-medium">Choix des langues</span>
              </div>
              <span class="font-bold" aria-hidden="true">
                <span class=" font-bold" aria-hidden="true">
                  <svg class="stroke-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                      viewBox="0 0 24 24" fill="none" stroke-width="2"
                      stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 18l6-6-6-6"/>
                  </svg>                
                </span>
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="edit-carte-content" class="rounded-t-xl bg-[#f6f3f0]">
      <!-- vertical list of categories from a partial page -->
      
      
    </div>
  </div>
</section>
<script defer>
  (function(){
    console.log('Unloading categories and menu items');
    if (window.unloadCategories) window.unloadCategories();
    if (window.unloadMenu) window.unloadMenu();
  })();
</script>